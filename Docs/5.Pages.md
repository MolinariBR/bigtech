# Projeto Bigtech — Páginas e Interfaces (Pages)

---
precedence: 5
version: 1.2.0
depends_on: [1.Project.md,2.Architecture.md,3.Structure.md,4.Entities.md]
influences: [6.UserStories.md,7.Tasks.md,8.DesignSystem.md]
last_update: 2025-12-24
---

## Índice dos Documentos

* [1.Project.md](1.Project.md) - Visão geral do projeto
* [2.Architecture.md](2.Architecture.md) - Arquitetura técnica
* [3.Structure.md](3.Structure.md) - Estrutura do projeto
* [4.Entities.md](4.Entities.md) - Modelos de dados (entidades)
* [5.Pages.md](5.Pages.md) - Páginas e interfaces
* [6.UserStories.md](6.UserStories.md) - User Stories
* [7.Tasks.md](7.Tasks.md) - Tasks de implementação
* [8.DesignSystem.md](8.DesignSystem.md) - Design System

---

## 1. Descrição Geral

Este documento descreve as páginas e interfaces dos frontends do Projeto Bigtech:

* **Frontend-User** (`app.bigtech.com.br`): destinado aos usuários finais.
* **Frontend-Admin** (`admin.bigtech.com.br`): destinado à administração da plataforma.

As interfaces são implementadas em **Next.js (React)**, com foco em UX intuitiva, responsividade e acessibilidade.
O sistema opera em **infraestrutura única compartilhada**, com **isolamento lógico multi-tenant**, realizado por autenticação, autorização, filtros por contexto (`tenantId`, `userId`) e regras de acesso no CORE.

As páginas exibem dados das entidades (Consulta, Billing, Plugin, Tenant, Audit) e interagem dinamicamente com plugins ativos, garantindo extensibilidade sem acoplamento estrutural.

A autenticação é baseada em **JWT via Appwrite**, com redirecionamento automático conforme o papel do usuário (`user` ou `admin`).

---

## 2. Estrutura de Páginas

### 2.1 Frontend-App (app.bigtech.com.br)

Páginas localizadas em `frontend-user/src/pages/`, focadas em execução de consultas, relatórios e gestão financeira pessoal.

Componentes comuns:

* **Header**: navegação superior, identidade visual e notificações.
* **Sidebar**: menu lateral (Principal, Consultas, Relatórios, Financeiro, LGPD).
* **Footer**: copyright e links institucionais.

Páginas principais:

* **/** (`index.tsx`): Dashboard principal.
* **/consulta/credito**: Consultas de crédito.
* **/consulta/cadastral**: Consultas cadastrais.
* **/consulta/veicular**: Consultas veiculares.
* **/relatorios/consultas**: Relatório de consumo.
* **/financeiro/extrato**: Extrato financeiro.
* **/financeiro/comprar**: Compra de créditos.
* **/financeiro/boletos**: Boletos e faturas.
* **/lgpd**: Aviso LGPD.
* **/_app.tsx**: Wrapper global (auth, tema, providers).

---

### 2.2 Frontend-Admin (admin.bigtech.com.br)

Páginas localizadas em `frontend-admin/src/pages/`, focadas em gestão operacional e monitoramento.

* **/** (`index.tsx`): Dashboard administrativo.
* **/tenants**: Gestão lógica de tenants.
* **/plugins**: Gestão de plugins por tenant.
* **/billing**: Monitoramento financeiro.
* **/audit**: Auditoria de ações.
* **/settings**: Configurações globais do sistema.
* **/_app.tsx**: Wrapper global com autenticação e permissões.

---

## 3. Funcionalidades Principais

### 3.1 Frontend-User

* **Dashboard (/)**
  Cards com métricas (saldo disponível, saldo anterior, saldo bloqueado, última atualização) e tabela de últimas consultas.
  Acesso rápido às categorias de consulta.

* **Consulta Crédito (/consulta/credito)**
  Cards representando consultas disponíveis conforme plugins ativos.
  Cada card exibe descrição, custo e ação de execução.
  Validação de créditos e fallback automático conforme regras do CORE.

* **Consulta Cadastral (/consulta/cadastral)**
  Consultas de identidade, dados cadastrais e jurídicos, conforme plugins habilitados.

* **Consulta Veicular (/consulta/veicular)**
  Consultas por placa/documentos, com variações por estado quando aplicável.

* **Relatórios (/relatorios/consultas)**
  Relatório de consultas executadas, com filtros e exportação.
  Baseado na entidade `Consulta`.

* **Financeiro (/financeiro/extrato)**
  Extrato detalhado de créditos e débitos.
  Baseado na entidade `Billing`.

* **Comprar Créditos (/financeiro/comprar)**
  Modelo pré-pago com:

  * Input de quantidade de créditos
  * Validação de mínimos/máximos (configuráveis via admin)
  * Cálculo automático do total
  * Integração com plugins de pagamento
    Atualiza `User.credits` apenas após confirmação.

* **Boletos/Faturas (/financeiro/boletos)**
  Lista de cobranças pendentes e pagas, com links para download.

* **Aviso LGPD (/lgpd)**
  Informações de privacidade e consentimento.

---

### 3.2 Frontend-Admin

* **Dashboard (/)**
  Visão global da plataforma:

  * Tenants ativos
  * Consumo financeiro agregado
  * Gráficos e alertas operacionais

* **Tenants (/tenants)**
  Gestão lógica de tenants:

  * Listagem com filtros
  * Criação/edição
  * Ativação/desativação
    Não implica criação de infraestrutura dedicada.

* **Plugins (/plugins)**
  Gestão de plugins por tenant:

  * Enable/disable
  * Configuração via modais
  * Validação de dependências
  * Atualização de versão

* **Billing (/billing)**
  Monitoramento financeiro:

  * Filtros por tenant, usuário, período
  * Exportação CSV/PDF
  * Reembolsos manuais
  * Agregações temporais

* **Audit (/audit)**
  Logs de auditoria:

  * Filtros por tenant, usuário, ação, período
  * Detalhes expandidos
  * Exportação para compliance

* **Settings (/settings)**
  Configurações globais do sistema:

  * Configurações de sistema (rate limits, temas padrão, timeouts)
  * Configurações de plugins globais (valores padrão, fallbacks)
  * Configurações de billing (valores mínimos/máximos, retenção)
  * Configurações de auditoria (retenção de logs, alertas)
  * Validação e aplicação de mudanças com auditId

---

## 4. Fluxos de Navegação

### 4.1 Frontend-User

Pagina principal: localhost:3000 com paginas de login e registro.

1. Login via E-mail e Senha → redirecionamento para `Dashboard`.
2. Navegação via Sidebar e Header.
3. Execução de consultas com validação, débito automático e registro.
4. Gestão financeira e relatórios.
5. Logout com limpeza de sessão.

---

### 4.2 Frontend-Admin

Pagina principal: localhost:3001 com paginas de login e registro.

1. Login com E-mail e Senha → redirecionamento para `Dashboard`.
2. Navegação por seções administrativas.
3. Operações com confirmação explícita (modais).
4. Notificações e feedback assíncrono.
5. Logout.

---

### 4.3 Fluxo Geral

* **Autenticação**: JWT via Appwrite.
* **Isolamento**: Filtragem lógica por `tenantId` e permissões.
* **Plugins**: Páginas dependem apenas de plugins `enabled`.
* **Responsividade**: Mobile e desktop.
* **Estado**: SWR/polling para dados dinâmicos.

---

## 5. Considerações de Design

* **Tecnologias**: Next.js, Tailwind CSS, Shadcn/UI.
* **Temas**: Dark/Light via CSS variables.
* **Acessibilidade**: ARIA, contraste, teclado.
* **Performance**: Lazy loading, Image Optimization, cache.
* **Segurança**: Sanitização, CSRF, rate limit.
* **Extensibilidade**: Componentes reutilizáveis; comportamento guiado por plugins.
* **UX**: Loaders, toasts, feedback claro.* **Página Settings (/settings)**: Deve usar abas (tabs) para organizar configurações por categoria (Sistema, Plugins, Billing, Auditoria). Campos devem ter validação em tempo real, salvar com confirmação modal, e exibir auditId após mudanças. Componentes: Form, Input, Select, Switch, Tabs (8.DesignSystem.md).
---

## 6. Histórico de Versões

* **Versão 1.2.0** (24/12/2025): Adição da página /settings no frontend-admin para configurações globais do sistema, incluindo seção de design e fluxo de navegação. Alinhada com arquitetura de plugins e isolamento lógico.
* **Versão 1.1.0** (24/12/2025): Alinhamento completo com tenancy lógico definido em 1.Project.md a 4.Entities.md.
* **Versão 1.0** (20/12/2025): Criação inicial do documento 5.Pages.md.
