# Projeto Bigtech — Design System (DesignSystem)

## Índice dos Documentos

- [1.Project.md](1.Project.md) - Visão geral do projeto
- [2.Architecture.md](2.Architecture.md) - Arquitetura técnica
- [3.Structure.md](3.Structure.md) - Estrutura do projeto
- [4.Entities.md](4.Entities.md) - Modelos de dados (entidades)
- [5.Pages.md](5.Pages.md) - Páginas e interfaces
- [6.UserStories.md](6.UserStories.md) - User Stories
- [7.Tasks.md](7.Tasks.md) - Tasks de implementação
- [8.DesignSystem.md](8.DesignSystem.md) - Design System

## 1. Introdução

Este documento define o Design System do Projeto Bigtech, baseado na análise integrada dos documentos 1.Project.md a 7.Tasks.md. O Design System garante consistência visual e UX intuitiva em toda a plataforma SaaS multi-tenant, com foco em responsividade, acessibilidade e extensibilidade via temas. Ele é implementado usando Tailwind CSS para customização e Shadcn/UI para componentes base no Next.js, suportando temas claro/escuro e isolamento por tenant.

O Design System promove uma experiência profissional, moderna e escalável, alinhada com a arquitetura orientada a plugins e isolamento multi-tenant.

## 2. Paleta de Cores

A paleta é neutra e acessível, com suporte a temas claro/escuro. Cores primárias para ações, secundárias para estados, e neutras para fundos/textos.

### 2.1 Cores Primárias
- **Azul Principal**: #2563eb (blue-600) - Botões primários, links ativos.
- **Azul Escuro**: #1e40af (blue-800) - Hover/foco.
- **Azul Claro**: #3b82f6 (blue-500) - Estados secundários.

### 2.2 Cores Secundárias
- **Verde Sucesso**: #16a34a (green-600) - Confirmações, sucesso.
- **Vermelho Erro**: #dc2626 (red-600) - Erros, alertas.
- **Amarelo Aviso**: #ca8a04 (yellow-600) - Avisos, pendências.

### 2.3 Cores Neutras
- **Cinza 50**: #f9fafb (gray-50) - Fundos claros.
- **Cinza 100**: #f3f4f6 (gray-100) - Bordas leves.
- **Cinza 200**: #e5e7eb (gray-200) - Divisores.
- **Cinza 500**: #6b7280 (gray-500) - Texto secundário.
- **Cinza 900**: #111827 (gray-900) - Texto principal.

### 2.4 Tema Escuro
- Fundo: #0f172a (slate-900)
- Texto: #f1f5f9 (slate-100)
- Bordas: #334155 (slate-700)

## 3. Tipografia

Fonte principal: Inter (sans-serif) para legibilidade. Escala baseada em Tailwind.

- **H1**: 2.25rem (36px), font-bold, line-height: 2.5rem
- **H2**: 1.875rem (30px), font-semibold, line-height: 2.25rem
- **H3**: 1.5rem (24px), font-semibold, line-height: 2rem
- **Body**: 1rem (16px), font-normal, line-height: 1.5rem
- **Small**: 0.875rem (14px), font-normal, line-height: 1.25rem

## 4. Espaçamentos

Sistema de espaçamento consistente usando múltiplos de 4px (Tailwind scale).

- **xs**: 0.25rem (4px)
- **sm**: 0.5rem (8px)
- **md**: 1rem (16px)
- **lg**: 1.5rem (24px)
- **xl**: 2rem (32px)
- **2xl**: 3rem (48px)

## 5. Temas (Claro/Escuro)

Temas configuráveis por tenant (Tenant.settings.theme). Implementados via CSS variables em global.css, theme/dark.css, theme/light.css.

### 5.1 Implementação
- **CSS Variables**: --bg-primary, --text-primary, etc.
- **Tailwind Config**: Extensões para cores dinâmicas.
- **Alternância**: Hook useTheme para toggle.

## 6. Componentes UI

Componentes baseados em Shadcn/UI, customizados com Tailwind. Reutilizáveis em frontend-user e frontend-admin.

### 6.1 Header
- **Compartilhado**: Componente único e comum a todas as páginas, incluindo navegação superior, logo e notificações.
- **Uso**: Fixo no topo, responsivo para mobile/desktop.

### 6.2 Footer
- **Compartilhado**: Componente único e comum a todas as páginas, com copyright ("Copyright © 2024-2025 Recupera Big Tech - Consultas") e links adicionais.
- **Uso**: Fixo no rodapé, acessível.

### 6.3 Button
- **Variantes**: primary, secondary, outline, ghost.
- **Estados**: hover, focus, disabled.
- **Exemplo**: Botão primário para ações principais.

### 6.4 Card
- **Estrutura**: Header, body, footer.
- **Consistência**: Todos os cards dentro das páginas devem seguir o mesmo layout (título, descrição, preço, botão), garantindo uniformidade visual e UX.
- **Uso**: Dashboards, listagens de consultas (crédito, cadastral, veicular).

### 6.5 Input
- **Tipos**: text, email, password.
- **Validação**: Bordas vermelhas para erros.

### 6.6 Table
- **Funcionalidades**: Paginação, filtros.
- **Uso**: Histórico, billing.

### 6.7 Modal/Dialog
- **Uso**: Confirmações, formulários. Ao clicar nos botões de consulta (ex.: em cards de crédito/cadastral/veicular) ou comprar (ex.: em financeiro/comprar), abre um modal para input de dados (CPF/CNPJ/placa/valor de créditos), confirmação e execução.
- **Estados**: Loading durante processamento, sucesso/erro.
- **Exemplo**: Modal de compra de créditos com input de valor, cálculo de total e botão de confirmação.

### 6.8 Gráficos
- **Biblioteca**: Recharts para visualização de dados (barras, linhas, etc.).
- **Uso**: Dashboards administrativos para métricas e uso.
- **Consistência**: Cores baseadas na paleta DS, responsivo.
 Header e Footer são compartilhados e idênticos em todas as páginas. Cards devem manter layout consistente (título, descrição, preço, botão) para evitar confusão.
- **Acessibilidade**: Contraste mínimo 4.5:1, navegação por teclado.
- **Responsividade**: Mobile-first, breakpoints sm/md/lg/xl.
- **Isolamento**: Temas por tenant via settings.
- **Interações**: Botões de consulta e compra abrem modais para input e confirmação, garantindo UX fluida e validação em tempo realstente: Search, User, Settings, etc.

- **Tamanho**: 16px, 20px, 24px.
- **Cor**: Herda do texto.

### 6.9 Componentes para Gestão de Plugins
O painel administrativo inclui componentes específicos para `Plugin Management`. Estes padrões devem ser seguidos em `/plugins` e em quaisquer telas de configuração por tenant.

- **Plugin Toggle**: Componente de toggle/switch para habilitar/desabilitar plugins por tenant. Deve expor estados: `installed` | `enabled` | `disabled` e acionar confirmação quando a mudança exigir deploy/restart. Use `Button`/`Switch` com label claro e tooltip explicativo.
- **Plugin Config Modal**: Modal de configuração com formulário para `Plugin.config` (ex.: `apiKey`, `fallbackSources`, `costPerQuery`). Deve validar formatos (chaves, URLs, arrays), permitir salvar rascunhos, e mostrar mensagens de erro amigáveis.
- **Plugin Table**: Tabela padronizada para listagens de plugins com colunas: `Name`, `Type`, `Version`, `Status`, `Actions`. Actions incluem `Configurar`, `Habilitar/Desabilitar`, `Atualizar`, `Remover`.
- **Dependência Badge**: Badge para indicar dependências faltantes ou requisitos (ex.: `requires-payment-plugin`). Ao clicar, abrir modal explicando como satisfazer dependência.
- **Operations Feedback**: Operações assíncronas (instalar/atualizar/restart) devem usar loaders, toasts e logs visíveis. Erros devem expor `Audit` id para rastreabilidade.

Implementação: reutilize `Modal/Dialog`, `Input`, `Select`, `Table`, `Badge` e `Button` do DS. Garanta que formulários de plugin sejam acessíveis e verifiquem `fallbackSources` e `apiKey` com validação baseada em schema.

### 6.10 Componentes para Monitoramento de Billing
O painel administrativo inclui componentes específicos para monitoramento financeiro. Estes padrões devem ser seguidos em `/billing`.

- **Billing Filters**: Componente composto com `DateRangePicker`, `Select` para tenant, `Input` para busca por `externalTransactionId`, e selects para `type` e `status`.
- **Export Button**: Botão para exportar resultados filtrados em CSV/PDF. Deve mostrar progresso e link para download quando a geração for assíncrona.
- **Billing Table**: Tabela padronizada para listagem de transações com colunas: `Transaction ID`, `Tenant`, `User`, `Type`, `Amount`, `Currency`, `Status`, `Processed At`, `External ID`, `Actions` (ex.: refund). Suportar paginação e ordenação por `processedAt` e `amount`.
- **Aggregation Cards**: Cards superiores para métricas (Receita total, Débitos, Créditos, Falhas de Pagamento) com delta (%) e mini-gráfico.
- **Charts**: Componentes de linha/barras (Recharts) para séries temporais de receita/consumo.
- **Audit Link**: Todas as ações que alteram estado financeiro devem exibir `auditId` e fornecer link direto para a página de auditoria (`/audit`) filtrada por `auditId`.

Implementação: reutilize `Table`, `Card`, `Button`, `Modal/Dialog` e `Charts` do DS. Prefira gerar exportações no backend e exibir progresso no frontend.

### 6.11 Componentes para Auditoria de Ações
O painel administrativo inclui componentes específicos para auditoria de ações. Estes padrões devem ser seguidos em `/audit`.

- **Audit Filters**: Componente composto com `DateRangePicker`, `Select` para tenant, `Input` para busca por `action` ou `resource`, e selects para `userId`.
- **Export Button**: Botão para exportar resultados filtrados em CSV/JSON. Deve mostrar progresso e link para download quando a geração for assíncrona.
- **Audit Table**: Tabela padronizada para listagem de logs com colunas: `Timestamp`, `Tenant`, `User`, `Action`, `Resource`, `IP Address`, `Details`. Suportar paginação, ordenação por `timestamp` e expansão de `details`.
- **Audit Details Modal**: Modal para visualizar detalhes expandidos de um log, incluindo `details` em JSON formatado.
- **Audit Link**: Links diretos para logs específicos via `auditId` em outras páginas (ex.: billing, plugins).

Implementação: reutilize `Table`, `Card`, `Button`, `Modal/Dialog` e `Input` do DS. Garanta que filtros sejam eficientes e exportações geradas no backend.

## 8. Diretrizes de Uso

- **Consistência**: Use componentes do DS em todas as páginas.
- **Acessibilidade**: Contraste mínimo 4.5:1, navegação por teclado.
- **Responsividade**: Mobile-first, breakpoints sm/md/lg/xl.
- **Isolamento**: Temas por tenant via settings.
- **Extensibilidade**: Adicione componentes via Shadcn sem quebrar DS.

## 9. Exemplos de Código

### 9.1 Configuração Tailwind (tailwind.config.js)
```javascript
module.exports = {
  darkMode: 'class',
  theme: {
    extend: {
      colors: {
        primary: '#2563eb',
        secondary: '#6b7280',
        success: '#16a34a',
        error: '#dc2626',
        warning: '#ca8a04',
      },
      fontFamily: {
        sans: ['Inter', 'sans-serif'],
      },
    },
  },
  plugins: [],
}
```

### 9.2 Tema CSS (global.css)
```css
:root {
  --bg-primary: #f9fafb;
  --text-primary: #111827;
}

.dark {
  --bg-primary: #0f172a;
  --text-primary: #f1f5f9;
}
```

### 9.3 Componente Button (Shadcn/UI)
```tsx
import { Button } from '@/components/ui/button'

export default function MyComponent() {
  return (
    <Button variant="primary" size="md">
      Ação Principal
    </Button>
  )
}
```

### 9.4 Página Dashboard (Next.js)
```tsx
import { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'

export default function Dashboard() {
  return (
    <div className="p-4 bg-primary">
      <Card>
        <CardHeader>
          <CardTitle>Créditos Disponíveis</CardTitle>
        </CardHeader>
        <CardContent>
          <p className="text-lg">100 créditos</p>
        </CardContent>
      </Card>
    </div>
  )
}
```

## 10. Histórico de Versões

- **Versão 1.2** (22 de dezembro de 2025): Adição da seção 6.8 sobre gráficos com Recharts para dashboards administrativos.
- **Versão 1.1** (21 de dezembro de 2025): Adição de exemplo específico para Modal de compra de créditos com input de valor, cálculo de total e botão de confirmação.
- **Versão 1.0** (20 de dezembro de 2025): Criação inicial do documento 8.DesignSystem.md baseado em 1.Project.md a 7.Tasks.md. Definição completa de DS com foco em Tailwind, Shadcn e Next.js.