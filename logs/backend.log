
> backend-core@1.0.0 dev
> ts-node-dev --respawn --transpile-only src/index.ts

[INFO] 16:03:20 ts-node-dev ver. 2.0.0 (using ts-node ver. 10.9.2, typescript ver. 5.9.3)
ğŸ‘‚ Handler subscribed to event: query.executed
ğŸ‘‚ Handler subscribed to event: credits.purchased
ğŸ’° Billing Engine initialized
ğŸ“¡ Event Bus initialized
ğŸ” Found plugin types: [ 'consulta', 'pagamentos' ]
ğŸ” Found plugins in consulta: [ 'bigtech', 'infosimples' ]
ğŸ” Checking plugin path: /home/mau/projeto/consulta/backend/src/plugins/consulta/bigtech/index.ts
ğŸ”„ Importing plugin: consulta-bigtech
âœ… Plugin validation passed for: bigtech
âœ… Plugin loaded: consulta-bigtech v1.0.0
âœ… Plugin validation passed for: bigtech
âœ… Plugin loaded: consulta-bigtech v1.0.0
ğŸ” Checking plugin path: /home/mau/projeto/consulta/backend/src/plugins/consulta/infosimples/index.ts
ğŸ”„ Importing plugin: consulta-infosimples
âœ… Plugin validation passed for: infosimples
âœ… Plugin loaded: consulta-infosimples v1.0.0
âœ… Plugin validation passed for: infosimples
âœ… Plugin loaded: consulta-infosimples v1.0.0
ğŸ” Found plugins in pagamentos: [ 'asaas' ]
ğŸ” Checking plugin path: /home/mau/projeto/consulta/backend/src/plugins/pagamentos/asaas/index.ts
ğŸ”„ Importing plugin: pagamentos-asaas
âœ… Plugin validation passed for: pagamento-asaas
âœ… Plugin loaded: pagamentos-asaas v1.0.0
âœ… Plugin validation passed for: pagamento-asaas
âœ… Plugin loaded: pagamentos-asaas v1.0.0
[DEV] Skipping active plugins load from database
âœ… Plugins infosimples e bigtech ativados por padrÃ£o para tenant default
ğŸ“¡ Event Bus initialized
ğŸ’° Billing Engine initialized
âœ… CORE initialized successfully
ğŸš€ BigTech CORE running on port 8080
ğŸ“Š Health check: http://localhost:8080/health
[DEV] Allowing tenant default for path /api/auth/refresh
[auth.refresh] incoming cookies: <no-cookie-header>
[DEV] Allowing tenant default for path /api/auth/refresh
[auth.refresh] incoming cookies: <no-cookie-header>
[DEV] Allowing tenant default for path /api/plugins/infosimples/services
[DEV] Allowing tenant default for path /api/plugins/infosimples/services
[DEV] Allowing tenant default for path /api/auth/refresh
[auth.refresh] incoming cookies: <no-cookie-header>
[DEV] Allowing tenant default for path /api/auth/refresh
[auth.refresh] incoming cookies: <no-cookie-header>
[DEV] Allowing tenant default for path /api/plugins/infosimples/services
[DEV] Allowing tenant default for path /api/plugins/infosimples/services
[DEV] Allowing tenant default for path /api/auth/refresh
[auth.refresh] incoming cookies: <no-cookie-header>
[DEV] Allowing tenant default for path /api/auth/refresh
[auth.refresh] incoming cookies: <no-cookie-header>
[DEV] Allowing tenant default for path /api/auth/login
AuditLogger: created audit document {
  tenantId: 'default',
  userId: '694afb83001da8dae2b4',
  action: 'user_login',
  resource: 'user:694afb83001da8dae2b4',
  details: '{"email":"user@bigtech.com"}',
  ipAddress: 'system',
  timestamp: '2025-12-24T19:14:58.291+00:00',
  '$id': '694c3bb281c150efadd5',
  '$permissions': [],
  '$createdAt': '2025-12-24T19:14:58.535+00:00',
  '$updatedAt': '2025-12-24T19:14:58.535+00:00',
  '$sequence': 62,
  '$databaseId': 'bigtechdb',
  '$collectionId': 'audits'
}
[DEV] Allowing tenant default for path /api/auth/refresh
[auth.refresh] incoming cookies: <no-cookie-header>
[DEV] Allowing tenant default for path /api/auth/refresh
[auth.refresh] incoming cookies: <no-cookie-header>
[DEV] Allowing tenant default for path /api/auth/refresh
[auth.refresh] incoming cookies: <no-cookie-header>
[DEV] Allowing tenant default for path /api/auth/refresh
[auth.refresh] incoming cookies: <no-cookie-header>
[DEV] Allowing tenant default for path /api/auth/login
AuditLogger: created audit document {
  tenantId: 'default',
  userId: '694afb83001da8dae2b4',
  action: 'user_login',
  resource: 'user:694afb83001da8dae2b4',
  details: '{"email":"user@bigtech.com"}',
  ipAddress: 'system',
  timestamp: '2025-12-24T19:15:07.538+00:00',
  '$id': '694c3bbbb91de5a95f93',
  '$permissions': [],
  '$createdAt': '2025-12-24T19:15:07.758+00:00',
  '$updatedAt': '2025-12-24T19:15:07.758+00:00',
  '$sequence': 63,
  '$databaseId': 'bigtechdb',
  '$collectionId': 'audits'
}
[DEV] Allowing tenant default for path /api/auth/refresh
[auth.refresh] incoming cookies: <no-cookie-header>
[DEV] Allowing tenant default for path /api/auth/refresh
[auth.refresh] incoming cookies: <no-cookie-header>
